[gd_scene load_steps=4 format=2]

[ext_resource path="res://resources/sprites/fred64.tres" type="SpriteFrames" id=1]

[sub_resource type="GDScript" id=2]
script/source = "extends KinematicBody2D

var move_accel := 800
var max_speed := 300
var velocity := Vector2.ZERO

var initial_pos

func _ready():
	initial_pos = get_global_position()


func _process(delta):
	var move_dir = Trolley.move_dir()
	if move_dir.length() == 0:
		velocity = lerp(velocity, Vector2.ZERO, 0.5)
	else:
		velocity += move_accel * move_dir * delta
		velocity = velocity.limit_length(max_speed)
	velocity = move_and_slide(velocity)
"

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 12.5, 19 )

[node name="Player" type="KinematicBody2D"]
script = SubResource( 2 )

[node name="AnimatedSprite" type="AnimatedSprite" parent="."]
frames = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2( -0.5, 12 )
shape = SubResource( 1 )
